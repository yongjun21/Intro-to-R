m <- cbind(x=rnorm(100,0,2),y=rnorm(100,0,6),z=rnorm(100,0,9))
alpha <- matrix(c(cospi(0.7),-sinpi(0.7),sinpi(0.7),cospi(0.7)),2,2)
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,1:2] <- m[,1:2] %*% alpha
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
library(plotly)
m <- cbind(x=rnorm(100,0,2),y=rnorm(100,0,6),z=rnorm(100,0,9))
alpha <- matrix(c(cospi(0.7),-sinpi(0.7),sinpi(0.7),cospi(0.7)),2,2)
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,1:2] <- m[,1:2] %*% alpha
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
library(plotly)
m <- cbind(x=rnorm(100,0,2),y=rnorm(100,0,6),z=rnorm(100,0,9))
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
library(plotly)
m <- cbind(x=rnorm(100,0,3),y=rnorm(100,0,5),z=rnorm(100,0,1))
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
library(plotly)
m <- cbind(x=rnorm(100,1,3),y=rnorm(100,1,5),z=rnorm(100,1,1))
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
library(plotly)
m <- cbind(x=rnorm(100,10,3),y=rnorm(100,10,5),z=rnorm(100,10,1))
beta <- matrix(c(cospi(0.2),-sinpi(0.2),sinpi(0.2),cospi(0.2)),2,2)
m[,2:3] <- m[,2:3] %*% beta
df <- as.data.frame(m)
plot_ly(df, x=x, y=y, z=z, type="scatter3d", mode="markers")
GDP <- read.csv('GDP.csv')
GDP <- read.csv('GDP.csv')
GDP
library(reshape2)
?melt
population <- read.csv('population.csv')
Population <- read.csv('Population.csv')
melt(GDP, Year)
melt(GDP, 'Year')
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, 'Year')
Population <- melt(Population, 'Year')
head(GDP)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name=GDP)
Population <- melt(Population, id.vars='Year', variable.name=Population)
GDP <- melt(GDP, id.vars='Year', variable.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Population')
length(GDP)
nrow(GDP)
nrow(Population)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Population')
nrow(Population)
nrow(GDP)
combined <- rbind(Population, GDP$GDP)
combined <- data.frame(Population, GDP$GDP)
head(combined)
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', value.name='GDP')
Population <- melt(Population, id.vars='Year', value.name='Population')
combined <- data.frame(Population, GDP$GDP)
head(combined)
combined <- data.frame(Population, GDP=GDP$GDP)
head(combined)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP=GDP$GDP)
head(combined)
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
GDP <- as.numeric(GDP$GDP)
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
GDP
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
GDP <- as.integer(GDP$GDP)
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
GDP
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
GDP <- as.integer(GDP$GDP)
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
ggplot(data=combined, aes(x=Per_Capita, y=GDP, size=Population)) + geom_point()
manipulate(ggplot(data=combined[combined$Year==y], aes(x=Per_Capita, y=GDP, size=Population)) + geom_point(), y=slider(1970:2008))
library(manipulate)
manipulate(ggplot(data=combined[combined$Year==y], aes(x=Per_Capita, y=GDP, size=Population)) + geom_point(), y=slider(1970:2008))
manipulate(ggplot(data=combined[combined$Year==y], aes(x=Per_Capita, y=GDP, size=Population)) + geom_point(), y=slider(min=1970,max=2008))
manipulate(ggplot(data=combined[combined$Year==y,], aes(x=Per_Capita, y=GDP, size=Population)) + geom_point(), y=slider(min=1970,max=2008))
?ggplot
manipulate(ggplot(data=combined[combined$Year==y,], aes(x=Per_Capita, y=GDP, size=Population), log='y') + geom_point(), y=slider(min=1970,max=2008))
?qplot
manipulate(qplot(x=Per_Capita, y=GDP, size=Population,data=combined[combined$Year==y,], log='y'), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population),data=combined[combined$Year==y,], log='y'), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country,data=combined[combined$Year==y,], log='y'), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country,data=combined[combined$Year==y,], log='y') + geom_text(), y=slider(min=1970,max=2008))
?geom_text
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), data=combined[combined$Year==y,], log='y') + geom_text(label=Country, position='right'), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(position='right'), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=0), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=1), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=2), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-1), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5), y=slider(min=1970,max=2008))
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
combined <- combined[!(combined$Country %in% c('Kuwait','UAE','Qatar')),]
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=Population, label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=Population, label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5, size=2), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=Population, label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5, size=5), y=slider(min=1970,max=2008))
manipulate(qplot(x=Per_Capita, y=GDP, size=Population, label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5, size=3), y=slider(min=1970,max=2008))
?log
library(reshape2)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
combined <- combined[!(combined$Country %in% c('Kuwait','UAE','Qatar')),]
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5, size=3), y=slider(min=1970,max=2008))
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$Population <- combined$Population * 1000
combined$Per_Capita <- combined$GDP / combined$Population
combined <- combined[!(combined$Country %in% c('Kuwait','UAE','Qatar')),]
library(manipulate)
manipulate(qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==y,], log='y') + geom_text(hjust=-.5, size=3), y=slider(min=1970,max=2008))
year <- 1970
gg <- qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==year,], log='y') + geom_text(hjust=-.5, size=3)
gg
gg <- function(year) {
qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==year,], log='y') + geom_text(hjust=-.5, size=3)
}
gg(1970)
manipulate(gg(year), year=slider(min=1970,max=2008))
?slider
manipulate(gg(year), year=slider(min=1970, max=2008, step=2))
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$Per_Capita <- combined$GDP / combined$Population
combined$Population <- combined$Population * 1000
combined <- combined[!(combined$Country %in% c('Kuwait','UAE','Qatar')),]
gg <- function(year) {
qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==year,], log='y') + geom_text(hjust=-.5, size=3)
}
gg(1970)
GDP <- read.csv('GDP.csv')
Population <- read.csv('Population.csv')
GDP <- melt(GDP, id.vars='Year', variable.name='Country', value.name='GDP')
Population <- melt(Population, id.vars='Year', variable.name='Country', value.name='Population')
combined <- data.frame(Population, GDP)
combined$GDP <- combined$GDP * 1000000
combined$Population <- combined$Population * 1000
combined$Per_Capita <- combined$GDP / combined$Population
combined <- combined[!(combined$Country %in% c('Kuwait','UAE','Qatar')),]
gg <- function(year) {
qplot(x=Per_Capita, y=GDP, size=log(Population,10), label=Country, data=combined[combined$Year==year,], log='y') + geom_text(hjust=-.5, size=3)
}
gg(1970)
manipulate(gg(year), year=slider(min=1970, max=2008, step=2))
